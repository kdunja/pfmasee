 <!-- Transactions tabela -->
        <div class="table-responsive m-t-16">
          <table mat-table [dataSource]="dataSource" class="w-100">
            
            <!-- Beneficiary Column -->
            <ng-container matColumnDef="assigned">
              <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">Beneficiary name</th>
              <td mat-cell *matCellDef="let element">
                <div style="display: flex; align-items: center; gap: 16px;">
                  <img [src]="element.imagePath" alt="users" width="40" class="rounded-circle" />
                  <div style="display: flex; flex-direction: column;">
                   <h6 class="mat-subtitle-1 f-s-14 f-w-600">{{ element.uname }}</h6>

<!-- Novi red sa ID i Kind -->
<span class="mat-caption" style="font-size: 11px; color: gray;">
  ID: {{ element.id }} | Kind: {{ element.kind }}
</span>

<!-- PostojeÄ‡i category badge ostaje -->
<button
  mat-button
  color="primary"
  class="mat-body-1 f-s-12 bg-light-primary text-primary rounded-pill px-3 py-1"
  matTooltip="{{ element.category || 'Click to enter' }}"
  aria-label="Category tooltip"
>
  {{ element.category || 'Click to enter' }}
</button>

                  </div>
                </div>
              </td>
            </ng-container>

            <!-- Direction Column -->
            <ng-container matColumnDef="direction">
              <th mat-header-cell *matHeaderCellDef></th> 
              <td mat-cell *matCellDef="let element">
                <span
                  class="material-icons"
                  [ngStyle]="{
                    'color': element.direction === 'credit' ? 'green' : 'red',
                    'font-size': '20px',
                    'vertical-align': 'middle'
                  }"
                >
                  {{ element.direction === 'credit' ? 'arrow_upward' : 'arrow_downward' }}
                </span>
              </td>
            </ng-container>

            <!-- Transaction date Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">Transaction date</th>
              <td mat-cell *matCellDef="let element" class="mat-body-1">{{ element.date | date: 'dd.MM.yyyy' }}</td>
            </ng-container>

            <!-- Currency + Split transaction Column -->
            <ng-container matColumnDef="budget">
  <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">Currency</th>
  <td mat-cell *matCellDef="let element" class="mat-body-1">
    <div style="display: flex; flex-direction: column; align-items: flex-start; gap: 6px;">
      
      <!-- Red sa iznosom i strelicom -->
      <div style="display: flex; align-items: center; gap: 6px;">
        <span>{{ element.budget * 1000 | number:'1.0-0' }} RSD</span>
        <mat-icon *ngIf="element.direction === 'up'" style="color: green;">arrow_upward</mat-icon>
        <mat-icon *ngIf="element.direction === 'down'" style="color: red;">arrow_downward</mat-icon>
      </div>
      
      <!-- Dugme ispod -->
      <button
        mat-stroked-button
        color="primary"
        class="f-s-10 mt-1"
        (click)="onSplitTransaction(element)"
        style="padding: 2px 8px; font-weight: 500;"
      >
        Split transaction
      </button>
    </div>
  </td>
</ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

          </table>
        </div>